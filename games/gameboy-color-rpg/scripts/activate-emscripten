#!/bin/bash
# {{{ activate-emscripten
# Activate local Emscripten environment
DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")/.." && pwd)"

# Accept DIR as argument
if [ "$1" != "" ]; then
    DIR="$1"
fi

EMSDK_DIR="$DIR/libs/emsdk"

if [ ! -d "$EMSDK_DIR" ]; then
    echo "Error: Emscripten not found at $EMSDK_DIR"
    echo "Run ./scripts/build-dependencies first"
    exit 1
fi

# Source the emsdk environment
source "$EMSDK_DIR/emsdk_env.sh"

echo "âœ“ Emscripten environment activated"
echo "  emcc: $(which emcc)"
echo "  Version: $(emcc --version | head -n1)"
# }}}
